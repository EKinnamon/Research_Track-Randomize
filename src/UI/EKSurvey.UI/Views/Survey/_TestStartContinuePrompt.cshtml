@using EKSurvey.Core.Models.DataTransfer
@using EKSurvey.Core.Models.ViewModels.Test
@model UserSurvey

@{
    var formContext = ViewBag.FormContext ?? string.Empty;
    var isTable = formContext.Equals("table", StringComparison.OrdinalIgnoreCase);
    var buttonClass = isTable
        ? "btn-primary"
        : "btn-success btn-block";
}


@if (!Model.Started.HasValue)
{
    @Html.Partial("~/Views/Test/_Create.cshtml", new CreateViewModel { SurveyId = Model.Id, SurveyName = Model.Name, UserId = Model.UserId }, ViewData)
}
else
{
<a class="btn @buttonClass" href="@Url.Action("Respond", "Test", new { id = Model.Id })">
    @if (isTable)
    {
        <text>Continue</text>
    }
    else
    {
        <text>Continue </text> @Model.Name
    }

    <i class="fa fa-arrow-right"></i>
</a>
}